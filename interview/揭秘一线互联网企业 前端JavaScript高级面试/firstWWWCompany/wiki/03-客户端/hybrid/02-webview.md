# webview

上一节说到 app 使用`file`协议访问本地的 html 文件，是 app 的什么地方来访问？—— webview

## 什么是 webview

打开微信，扫一扫，打开一个 h5 页面。或者从微信朋友圈，点击一篇别人分享的链接，进入一个 h5 页。页面的内容，文字图片等，都是 h5 页面写的。但是**承载页面的这个框架，叫做 webview **。如果从前端角度去理解，webview 就相当于 iframe ，它是客户端的一种能力，可以承载 h5 页面。

再举一个简单的例子。你如果想要开发一个浏览器 app ，例如 UC QQ 浏览器，功能简单一点，其实就需要在 app 中开发一个 webview 即可，能加载 h5 页就行了。当然，现在的 UC QQ 浏览器可不仅仅是一个 webview 的问题，这就和本内容无关了。

对比来说，你微信的聊天、朋友圈列表，这些界面，没有 webview （假设这些页面都是 NA 的，应该就是 NA 的），因为页面中没有 h5 ，就没必要存在 webview 。

## 打开过程

大家应该都有使用新闻 app 的经历，如今日头条、网易新闻等。都是从一个列表页，进入一个详情页。假如这个详情页是 hybrid 开发的（很可能是），列表页是 NA 开发的（也很可能是）。

用户从列表页，点击一个新闻，客户端会打开一个 webview ，然后使用`file`协议加载本地的一个 html 页面，页面中的 css js 也都是通过`file`协议加载的。然后页面渲染，js 会执行，使用 ajax 获取页面内容，使用`<img>`加载图片。最后页面就展示出来的。

（画图讲解该过程）

这就是使用 hybrid 的基本过程。

## 扩展

扩展一下，上面说的 ajax 加载内容，`<img>`加载图片，app 可能为了提高速度，在你即将点击之前，客户端事先获取了文本内容（图片可以慢慢加载，但是文字得先出来），存储下来，然后进入详情页之后，再使用某些特殊能力，将提前获取的文本内容在通过 js 获取到，直接渲染到页面中。

这里说的**特殊能力**会在后面详细讲解，这也是面试过程中经常问到的问题。
