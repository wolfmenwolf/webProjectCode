# hybrid 是什么，为什么会用到 hybrid

## 目录

- 文字解释
- 存在价值
- webview
- file 协议
- 具体实现

## 文字解释

hybrid 即混合开发，是一种客户端、h5结合来开发才能做出的效果，这里其中甚至还涉及到 server 端的知识。

截图（左侧头条列表，右侧头条新闻详情页）

头条的新闻详情页，很有可能就是用的 hybrid 实现的（我不在头条工作我不知道，但是我知道一个类似头条的 app ，新闻详情页就是用 hybrid 实现的）

## 存在价值

- 可以快速迭代更新【关键】（而 app 发版需要经过漫长的审核等待时间）—— 思考：为何 app 需要审核，而 hybrid 无需审核？？？
- 体验流畅（和 NA 的体验基本类似）
- 减少开发和沟通成本，公用一套代码

## webview

- 是 app 中的一个组件（ app 中可以有 webview ，也可以没有）
- 用于加载 h5 页面，即一个小型的浏览器内核

截图举例：

- 例1：UC 浏览器（首页、访问网址）
- 例2：微信（朋友圈页，内容页）

## file 协议

最常见的浏览器访问 h5 页面都是使用 http(s) 协议，包括加载静态文件

（截图演示）

如果在本地双击一个 html 文件，通过浏览器打开，就是使用 file 协议加载，包括静态文件

（截图演示）

两者的区别：

- file 协议：本地文件，快
- http(s) 协议：网络加载，慢

## 具体实现

首先，一个 app 不可能所有的地方都使用 hybrid ，这里可以先做一个总结

- 使用 NA ：体验要求极致，变化不频繁（无头条的首页）
- 使用 hybrid ：体验要求高，变化频繁（如头条的新闻详情页）
- 使用 h5 ：体验无要求，不常用（如举报、反馈等页面）

如果一个 app 中某些场景使用 hybrid ，结合上述的 file 协议和 webview ，需要如下做法：

- 前端做好静态页面（html js css），将文件交给客户端
- 客户端拿到前端静态页面，以文件形式存储在 app 中
- 客户端在一个 webview 中
- 使用 file 协议加载静态页面

（画图说明）

那现在还剩下两件事没处理（后面课程会讲述）：

- app 发布之后，静态文件如何实时更新
- 静态页面如何获取内容（不能用 ajax ，要客户端获取，然后与前端通讯）

## 问题解答

- hybrid 是客户端和前端混合开发
- hybrid 依赖于客户端（webview file 协议）
- hybrid 存在的核心价值：更新快
